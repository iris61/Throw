{"version":3,"sources":["KnifeWarehouseComponent.ts"],"names":[],"mappings":";;;;;AAAA,qFAAgF;AAChF,uDAAkD;AAClD,mDAA8C;AAC9C,qDAAgD;AAChD,yDAAoD;AACpD,6CAA4C;AAC5C,+DAA0D;AAC1D,qDAAuE;AAEjE,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAE5C,IAAM,qBAAqB,GAAG,aAAa,CAAC;AAC5C,IAAM,sBAAsB,GAAG,cAAc,CAAC;AAC9C,IAAM,0BAA0B,GAAG,kBAAkB,CAAC;AACtD,IAAM,eAAe,GAAG,OAAO,CAAC;AAChC,IAAM,oBAAoB,GAAG,YAAY,CAAC;AAC1C,IAAM,cAAc,GAAG,MAAM,CAAC;AAC9B,IAAM,YAAY,GAAG,UAAU,CAAC;AAGhC;IAAqD,2CAAY;IADjE;QAAA,qEAmUC;QA/TG,cAAQ,GAAgB,IAAI,CAAC;QAG7B,sBAAgB,GAAc,IAAI,CAAC;QAGnC,kBAAY,GAAc,IAAI,CAAC;QAG/B,kBAAY,GAAc,IAAI,CAAC;QAG/B,mBAAa,GAAc,IAAI,CAAC;QAGhC,gBAAU,GAAc,IAAI,CAAC;QAG7B,mBAAa,GAAa,IAAI,CAAC;QAG/B,mBAAa,GAAa,IAAI,CAAC;QAG/B,mBAAa,GAAc,IAAI,CAAC;QAGhC,iBAAW,GAAc,IAAI,CAAC;QAG9B,gBAAU,GAAc,IAAI,CAAC;QAG7B,8BAAwB,GAAc,IAAI,CAAC;QAG3C,uCAAiC,GAAc,IAAI,CAAC;QAGpD,mBAAa,GAAiB,IAAI,CAAC;QAE3B,sBAAgB,GAAqB,IAAI,CAAC;QAC1C,qCAA+B,GAAoC,IAAI,CAAC;QAExE,aAAO,GAAY,IAAI,CAAC;QACxB,iBAAW,GAAY,IAAI,CAAC;QA6B5B,iBAAW,GAAG,UAAC,KAAe;YAClC,IAAI,sBAAY,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC,EAAE;gBAClE,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,KAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aACxF;YAED,IAAI,OAAO,GAAW,KAAI,CAAC,+BAA+B,CAAC,iBAAiB,EAAE,CAAC;YAC/E,IAAI,YAAY,GAAkB,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,sBAAsB,EAAE,qBAAS,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAE9I,IAAI,OAAO,IAAI,qBAAS,CAAC,qBAAqB,IAAI,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE;gBACnF,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;gBACjE,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,eAAe,EAAE,CAAC;gBAE1D,0BAAgB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,CAAC;gBACtD,0BAAgB,CAAC,iBAAiB,CAAC,wCAAwC,CAAC,CAAC;aAChF;iBAAM,IAAI,oBAAU,CAAC,MAAM,CAAC,oBAAoB,CAAC,OAAO,CAAC,IAAI,8BAAiB,CAAC,GAAG,EAAE;gBACjF,IAAI,QAAQ,GAAG,sBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAS,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;gBAErE,IAAI,QAAQ,IAAI,oBAAU,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE;oBACtD,QAAQ,GAAG,QAAQ,GAAG,oBAAU,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;oBAC/D,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;oBACpE,sBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAS,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;oBAE7D,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;oBACjE,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC3B,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;oBACtF,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,GAAG,GAAG,GAAG,oBAAU,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;oBAErH,KAAI,CAAC,uBAAuB,CAAC,oBAAU,CAAC,MAAM,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC;oBAE7E,IAAI,sBAAY,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC,EAAE;wBAClE,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,KAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;qBACxD;oBAED,KAAI,CAAC,uBAAuB,EAAE,CAAC;oBAE/B,0BAAgB,CAAC,iBAAiB,CAAC,8BAA8B,EAAE,QAAQ,EAAE,OAAO,EAAE,cAAc,EAAE,OAAO,CAAC,CAAC;iBAClH;qBAAM;oBACH,0BAAgB,CAAC,SAAS,CAAC,qBAAS,CAAC,qBAAqB,CAAC,CAAC;iBAC/D;aACJ;iBAAM,IAAI,oBAAU,CAAC,MAAM,CAAC,oBAAoB,CAAC,OAAO,CAAC,IAAI,8BAAiB,CAAC,UAAU,EAAE;gBACxF,0BAAgB,CAAC,aAAa,CAAC,qBAAS,CAAC,uBAAuB,EAAE,qBAAS,CAAC,kBAAkB,GAAG,oBAAU,CAAC,MAAM,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjJ,KAAI,CAAC,uBAAuB,EAAE,CAAC;aAClC;QACL,CAAC,CAAA;QAEO,iBAAW,GAAG,UAAC,KAA0B;YAC7C,IAAI,sBAAY,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC,EAAE;gBAClE,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aAC1F;YAED,IAAI,QAAQ,GAAG,sBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAS,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;YACrE,IAAI,QAAQ,GAAG,qBAAS,CAAC,aAAa,EAAE;gBACpC,0BAAgB,CAAC,SAAS,CAAC,qBAAS,CAAC,qBAAqB,CAAC,CAAC;gBAC5D,OAAO;aACV;YAED,QAAQ,GAAG,QAAQ,GAAG,qBAAS,CAAC,aAAa,CAAC;YAC9C,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;YACpE,sBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAS,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;YAE7D,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;YACrD,KAAI,CAAC,gBAAgB,GAAG,KAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,0BAAgB,CAAC,CAAC;YAClF,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAI,CAAC,eAAe,CAAC,CAAA;YAEhD,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;QACpD,CAAC,CAAA;QAEO,qBAAe,GAAG;YACtB,KAAI,CAAC,YAAY,CAAC;gBAAA,iBA4BjB;gBA3BG,IAAI,UAAU,GAAW,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,CAAC;gBAC/D,IAAI,YAAY,GAAkB,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,sBAAsB,EAAE,qBAAS,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC9I,IAAI,YAAY,CAAC,OAAO,CAAC,oBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;oBACtE,YAAY,CAAC,IAAI,CAAC,oBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;oBAC5D,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;iBACzF;gBAED,IAAI,UAAU,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBACnD,UAAU,CAAC,YAAY,CAAC,yBAAe,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE;oBACtD,KAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;gBAC7C,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;gBACpC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;gBAC1C,IAAI,CAAC,+BAA+B,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;gBAE/D,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;gBAEzC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,GAAG,GAAG,GAAG,oBAAU,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;gBAErH,IAAI,sBAAY,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC,EAAE;oBAClE,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;iBACxD;gBAED,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,mBAAmB,EAAE,CAAC;gBAE9D,0BAAgB,CAAC,iBAAiB,CAAC,8BAA8B,EAAE,QAAQ,EAAE,QAAQ,EAAE,cAAc,EAAE,oBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;YACrJ,CAAC,EAAE,CAAC,CAAC,CAAC;YAEN,KAAI,CAAC,uBAAuB,EAAE,CAAC;QACnC,CAAC,CAAA;QAQO,6BAAuB,GAAG,UAAC,KAAa;YAC5C,IAAI,UAAU,GAAG;gBACb,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBACpC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;YAC3C,CAAC,CAAC;YAEF,IAAI,gBAAgB,GAAG;gBACnB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;gBAC3E,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;gBACzE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;gBACnE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;YAC5E,CAAC,CAAC;YAEF,IAAI,SAAS,GAAG,KAAK,IAAI,oBAAU,CAAC,MAAM,CAAC,mBAAmB,CAAC,qBAAS,CAAC,qBAAqB,CAAC;mBACxF,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,sBAAsB,EAAE,qBAAS,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,oBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACtK,IAAI,YAAY,GAAG,oBAAU,CAAC,MAAM,CAAC,oBAAoB,CAAC,oBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;YAC/F,IAAI,cAAc,GAAG,oBAAU,CAAC,MAAM,CAAC,mBAAmB,CAAC,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,cAAc,EAAE,qBAAS,CAAC,qBAAqB,CAAC,CAAC,CAAC;YAErJ,IAAI,SAAS,EAAE;gBACX,UAAU,EAAE,CAAC;gBACb,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;gBAC1E,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,cAAc,IAAI,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC;gBAC1I,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;gBACzE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;gBACvE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;gBACjE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;gBAClE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;gBAC7E,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;gBAC/D,OAAO;aACV;YAED,QAAQ,YAAY,EAAE;gBAClB,KAAK,8BAAiB,CAAC,GAAG,CAAC,CAAC;oBACxB,UAAU,EAAE,CAAC;oBACb,gBAAgB,EAAE,CAAC;oBACnB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;oBACxG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,oBAAU,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBACxK,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;oBACtG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;oBAC7E,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;oBAC/D,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;oBACpE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;oBACnE,MAAM;iBACT;gBAED,KAAK,8BAAiB,CAAC,UAAU,CAAC,CAAC;oBAC/B,UAAU,EAAE,CAAC;oBACb,gBAAgB,EAAE,CAAC;oBACnB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;oBACxG,IAAI,OAAO,GAAG,sBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAS,CAAC,kBAAkB,GAAG,KAAK,EAAE,CAAC,CAAC,CAAC;oBAClF,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,OAAO,GAAG,GAAG,GAAG,oBAAU,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;oBAChL,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,cAAc,CAAC;oBAC5G,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;oBAC/E,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;oBACjE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;oBAClE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;oBACnE,MAAM;iBACT;gBAED,KAAK,8BAAiB,CAAC,WAAW,CAAC,CAAC;oBAChC,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;oBAClC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;oBACzC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,OAAO,GAAG,oBAAU,CAAC,MAAM,CAAC,mBAAmB,CAAC,oBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC7K,MAAM;iBACT;aACJ;QACL,CAAC,CAAA;;IAwEL,CAAC;gCAlUoB,uBAAuB;IAoDxC,wCAAM,GAAN;QAAA,iBAuBC;QAtBG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAExE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;YACjD,IAAI,sBAAY,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC,EAAE;gBAClE,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,KAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aACvF;YAED,KAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC7B,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,sBAAY,CAAC,CAAC,mBAAmB,EAAE,CAAC;QAClE,CAAC,EAAE,IAAI,CAAC,CAAC;QAET,IAAI,CAAC,+BAA+B,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,yCAA+B,CAAC,CAAC;QAEnG,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;QAC9G,IAAI,YAAY,GAAkB,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,sBAAsB,EAAE,qBAAS,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC9I,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,GAAG,GAAG,GAAG,oBAAU,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;QAErH,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAE/B,0BAAgB,CAAC,iBAAiB,CAAC,kCAAkC,CAAC,CAAC;QAEvE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,yCAA+B,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;IACxG,CAAC;IAuGM,sCAAI,GAAX,UAAY,OAAgB;QACxB,yBAAuB,CAAC,QAAQ,GAAG,IAAI,CAAC;QAExC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC3B,CAAC;IAsEa,0CAAkB,GAAhC;QACI,IAAI,yBAAuB,CAAC,QAAQ,IAAI,IAAI,EAAE;YAC1C,OAAO;SACV;QAED,IAAI,QAAQ,GAAG,sBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAS,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QACrE,QAAQ,GAAG,QAAQ,GAAG,qBAAS,CAAC,QAAQ,CAAC;QACzC,yBAAuB,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;QAChG,sBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,qBAAS,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;IACjE,CAAC;IAEa,uCAAe,GAA7B,UAA8B,aAAqB;QAC/C,IAAI,yBAAuB,CAAC,QAAQ,IAAI,IAAI,EAAE;YAC1C,OAAO;SACV;QAED,IAAI,OAAO,GAAG,sBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;QAC3D,OAAO,EAAE,CAAC;QACV,sBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;QAEnD,IAAI,KAAK,GAAG,oBAAU,CAAC,MAAM,CAAC,oBAAoB,CAAC,aAAa,CAAC,CAAC;QAClE,IAAI,OAAO,GAAG,oBAAU,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAClD,IAAI,kBAAkB,GAAG,oBAAU,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAElE,IAAI,OAAO,IAAI,kBAAkB,EAAE;YAC/B,IAAI,YAAY,GAAkB,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,sBAAsB,EAAE,qBAAS,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC9I,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;YAE1B,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;YACjE,sBAAY,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;YAEtF,0BAAgB,CAAC,iBAAiB,CAAC,8BAA8B,EAAE,QAAQ,EAAE,QAAQ,EAAE,cAAc,EAAE,OAAO,CAAC,CAAC;SACnH;QAED,yBAAuB,CAAC,QAAQ,CAAC,+BAA+B,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACtF,yBAAuB,CAAC,QAAQ,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;IACpE,CAAC;IAEO,yDAAuB,GAA/B;QAAA,iBA+BC;QA9BG,IAAI,oBAAU,CAAC,MAAM,CAAC,eAAe,EAAE,EAAE;YACrC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;gBAC/D,IAAI,sBAAY,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC,EAAE;oBAClE,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,KAAI,CAAC,wBAAwB,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;iBACrG;gBAED,0BAAgB,CAAC,aAAa,CAAC,qBAAS,CAAC,uBAAuB,EAAE,qBAAS,CAAC,qBAAqB,CAAC,CAAC;gBAEnG,0BAAgB,CAAC,iBAAiB,CAAC,wCAAwC,CAAC,CAAC;YACjF,CAAC,EAAE,IAAI,CAAC,CAAC;YAET,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC1E,IAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;YAExD,OAAO;SACV;QAED,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACtD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAE3C,IAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QAC1D,IAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;YACxE,IAAI,sBAAY,CAAC,MAAM,CAAC,UAAU,CAAC,qBAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC,EAAE;gBAClE,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,KAAI,CAAC,wBAAwB,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aACrG;YAED,0BAAgB,CAAC,aAAa,CAAC,qBAAS,CAAC,uBAAuB,EAAE,qBAAS,CAAC,qBAAqB,CAAC,CAAC;YAEnG,0BAAgB,CAAC,iBAAiB,CAAC,wCAAwC,CAAC,CAAC;QACjF,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;;IA/Qc,gCAAQ,GAA4B,IAAI,CAAC;IA/CxD;QADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;6DACO;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;qEACe;IAGnC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iEACW;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iEACW;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kEACY;IAGhC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+DACS;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kEACY;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kEACY;IAG/B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kEACY;IAGhC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;gEACU;IAG9B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+DACS;IAG7B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;6EACuB;IAG3C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sFACgC;IAGpD;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;kEACY;IA1ClB,uBAAuB;QAD3C,OAAO;OACa,uBAAuB,CAkU3C;IAAD,8BAAC;CAlUD,AAkUC,CAlUoD,EAAE,CAAC,SAAS,GAkUhE;kBAlUoB,uBAAuB","file":"","sourceRoot":"../../../../../../assets/script/modules/warehouse","sourcesContent":["import KnifeWarehousePageViewComponent from \"./KnifeWarehousePageViewComponent\";\nimport LotteryComponent from \"./LotteryComponent\";\nimport AppComponent from \"../../AppComponent\";\nimport RewardComponent from \"./RewardComponent\";\nimport StorageUtils from \"../../utils/StorageUtils\";\nimport { Constants } from \"../../Constants\";\nimport JSInterfaceUtils from \"../bridge/JSInterfaceUtils\";\nimport ConfigUtil, { KnifeObtainMethod } from \"../../utils/ConfigUtil\";\n\nconst { ccclass, property } = cc._decorator;\n\nconst NODE_NAME_EQUIP_LABEL = \"equip_label\";\nconst NODE_NAME_UNLOCK_LABEL = \"unlock_label\";\nconst NODE_NAME_EQUIP_VIDEO_ICON = \"equip_video_icon\";\nconst NODE_NAME_COINS = \"coins\";\nconst NODE_NAME_MORE_LABEL = \"more_label\";\nconst NODE_NAME_LINE = \"line\";\nconst NODE_NAME_AD = \"ad_image\";\n\n@ccclass\nexport default class KnifeWarehouseComponent extends cc.Component {\n\n    @property(cc.PageView)\n    pageView: cc.PageView = null;\n\n    @property(cc.Layout)\n    defeatBossLayout: cc.Layout = null;\n\n    @property(cc.Prefab)\n    lotteyPrefab: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    rewardPrefab: cc.Prefab = null;\n\n    @property(cc.Sprite)\n    previewSprite: cc.Sprite = null;\n\n    @property(cc.Sprite)\n    background: cc.Sprite = null;\n\n    @property(cc.Label)\n    knifeCntLabel: cc.Label = null;\n\n    @property(cc.Label)\n    currencyLabel: cc.Label = null;\n\n    @property(cc.Button)\n    lotteryButton: cc.Button = null;\n\n    @property(cc.Button)\n    equipButton: cc.Button = null;\n\n    @property(cc.Button)\n    backButton: cc.Button = null;\n\n    @property(cc.Button)\n    watchAdForCurrencyButton: cc.Button = null;\n\n    @property(cc.Button)\n    watchAdForCurrencyNoLotteryButton: cc.Button = null;\n\n    @property(cc.AudioClip)\n    getKnifeAudio: cc.AudioClip = null;\n\n    private lotteryComponent: LotteryComponent = null;\n    private knifeWarehousePageViewComponent: KnifeWarehousePageViewComponent = null;\n\n    private appNode: cc.Node = null;\n    private lotteryNode: cc.Node = null;\n\n    private static instance: KnifeWarehouseComponent = null;\n\n    onLoad() {\n        this.equipButton.node.on(cc.Node.EventType.TOUCH_END, this.chooseKnife);\n\n        this.backButton.node.on(cc.Node.EventType.TOUCH_END, () => {\n            if (StorageUtils.shared.getBoolean(Constants.KEY_SOUND_SWITCH, true)) {\n                cc.audioEngine.playEffect(this.backButton.getComponent(cc.AudioSource).clip, false);\n            }\n\n            this.node.removeFromParent();\n            this.appNode.getComponent(AppComponent).updateMainPageKnife();\n        }, this);\n\n        this.knifeWarehousePageViewComponent = this.pageView.getComponent(KnifeWarehousePageViewComponent);\n\n        this.currencyLabel.getComponent(cc.Label).string = StorageUtils.shared.getString(Constants.KEY_CURRENCY, \"0\");\n        let gainedKnifes: Array<string> = StorageUtils.shared.getString(Constants.KEY_USER_GAINED_KNIFES, Constants.DEFAULT_USER_KNIFE_ID).split(\",\");\n        this.knifeCntLabel.getComponent(cc.Label).string = gainedKnifes.length + \"/\" + ConfigUtil.shared.getAllKnifesCount();\n\n        this.updateLottryButtonState();\n\n        JSInterfaceUtils.logAnalyticsEvent(\"ThrowingMaster_Store_Page_Viewed\");\n\n        this.pageView.node.getComponent(KnifeWarehousePageViewComponent).init(this.updateEquipButtonStatus);\n    }\n\n    private chooseKnife = (event: cc.Event) => {\n        if (StorageUtils.shared.getBoolean(Constants.KEY_SOUND_SWITCH, true)) {\n            cc.audioEngine.playEffect(this.equipButton.getComponent(cc.AudioSource).clip, false);\n        }\n\n        let knifeId: string = this.knifeWarehousePageViewComponent.getCurrentKnifeId();\n        let gainedKnifes: Array<string> = StorageUtils.shared.getString(Constants.KEY_USER_GAINED_KNIFES, Constants.DEFAULT_USER_KNIFE_ID).split(\",\");\n\n        if (knifeId == Constants.DEFAULT_USER_KNIFE_ID || gainedKnifes.indexOf(knifeId) != -1) {\n            StorageUtils.shared.putString(Constants.KEY_USER_KNIFE, knifeId);\n            this.appNode.getComponent(AppComponent).jumpToPlayStage();\n\n            JSInterfaceUtils.logAutopilotEvent(\"play_game_click\");\n            JSInterfaceUtils.logAnalyticsEvent(\"ThrowingMaster_Store_Play_Game_Clicked\");\n        } else if (ConfigUtil.shared.getKnifeObtainMethod(knifeId) == KnifeObtainMethod.BUY) {\n            let currency = StorageUtils.shared.getInt(Constants.KEY_CURRENCY, 0);\n\n            if (currency >= ConfigUtil.shared.getKnifePrice(knifeId)) {\n                currency = currency - ConfigUtil.shared.getKnifePrice(knifeId);\n                this.currencyLabel.getComponent(cc.Label).string = String(currency);\n                StorageUtils.shared.putInt(Constants.KEY_CURRENCY, currency);\n\n                StorageUtils.shared.putString(Constants.KEY_USER_KNIFE, knifeId);\n                gainedKnifes.push(knifeId);\n                StorageUtils.shared.putString(Constants.KEY_USER_GAINED_KNIFES, String(gainedKnifes));\n                this.knifeCntLabel.getComponent(cc.Label).string = gainedKnifes.length + \"/\" + ConfigUtil.shared.getAllKnifesCount();\n\n                this.updateEquipButtonStatus(ConfigUtil.shared.getIndexFromKnifeId(knifeId));\n\n                if (StorageUtils.shared.getBoolean(Constants.KEY_SOUND_SWITCH, true)) {\n                    cc.audioEngine.playEffect(this.getKnifeAudio, false);\n                }\n\n                this.updateLottryButtonState();\n                \n                JSInterfaceUtils.logAnalyticsEvent(\"ThrowingMaster_Knives_Unlock\", \"method\", \"coins\", \"which_knives\", knifeId);\n            } else {\n                JSInterfaceUtils.showToast(Constants.TOAST_NEED_MORE_COINS);\n            }\n        } else if (ConfigUtil.shared.getKnifeObtainMethod(knifeId) == KnifeObtainMethod.REWARD_ADS) {\n            JSInterfaceUtils.watchRewardAd(Constants.POSTION_STORE_GET_KNIFE, Constants.WATCH_AD_FOR_KNIFE + ConfigUtil.shared.getIndexFromKnifeId(knifeId));\n            this.updateLottryButtonState();\n        }\n    }\n\n    private showLottery = (event: cc.Event.EventTouch) => {\n        if (StorageUtils.shared.getBoolean(Constants.KEY_SOUND_SWITCH, true)) {\n            cc.audioEngine.playEffect(this.lotteryButton.getComponent(cc.AudioSource).clip, false);\n        }\n\n        let currency = StorageUtils.shared.getInt(Constants.KEY_CURRENCY, 0);\n        if (currency < Constants.LOTTERY_PRICE) {\n            JSInterfaceUtils.showToast(Constants.TOAST_NEED_MORE_COINS);\n            return;\n        }\n\n        currency = currency - Constants.LOTTERY_PRICE;\n        this.currencyLabel.getComponent(cc.Label).string = String(currency);\n        StorageUtils.shared.putInt(Constants.KEY_CURRENCY, currency);\n\n        this.lotteryNode = cc.instantiate(this.lotteyPrefab);\n        this.lotteryComponent = this.lotteryNode.getComponentInChildren(LotteryComponent);\n        this.lotteryComponent.init(this.lotteryCallback)\n\n        this.background.node.addChild(this.lotteryNode);\n    }\n\n    private lotteryCallback = (): void => {\n        this.scheduleOnce(function () {\n            let knifeIndex: number = this.lotteryComponent.getKnifeIndex();\n            let gainedKnifes: Array<string> = StorageUtils.shared.getString(Constants.KEY_USER_GAINED_KNIFES, Constants.DEFAULT_USER_KNIFE_ID).split(\",\");\n            if (gainedKnifes.indexOf(ConfigUtil.shared.getKnifeId(knifeIndex)) == -1) {\n                gainedKnifes.push(ConfigUtil.shared.getKnifeId(knifeIndex));\n                StorageUtils.shared.putString(Constants.KEY_USER_GAINED_KNIFES, String(gainedKnifes));\n            }\n\n            let rewardNode = cc.instantiate(this.rewardPrefab);\n            rewardNode.getComponent(RewardComponent).init(knifeIndex, () => {\n                this.updateEquipButtonStatus(knifeIndex);\n            });\n\n            this.lotteryNode.removeFromParent();\n            this.background.node.addChild(rewardNode);\n            this.knifeWarehousePageViewComponent.scrollToKnife(knifeIndex);\n\n            this.updateEquipButtonStatus(knifeIndex);\n\n            this.knifeCntLabel.getComponent(cc.Label).string = gainedKnifes.length + \"/\" + ConfigUtil.shared.getAllKnifesCount();\n\n            if (StorageUtils.shared.getBoolean(Constants.KEY_SOUND_SWITCH, true)) {\n                cc.audioEngine.playEffect(this.getKnifeAudio, false);\n            }\n\n            this.appNode.getComponent(AppComponent).addUnlockKnifeCount();\n            \n            JSInterfaceUtils.logAnalyticsEvent(\"ThrowingMaster_Knives_Unlock\", \"method\", \"random\", \"which_knives\", ConfigUtil.shared.getKnifeId(knifeIndex));\n        }, 1);\n\n        this.updateLottryButtonState();\n    }\n\n    public init(appNode: cc.Node): void {\n        KnifeWarehouseComponent.instance = this;\n\n        this.appNode = appNode;\n    }\n\n    private updateEquipButtonStatus = (index: number): void => {\n        let showButton = (): void => {\n            this.equipButton.node.opacity = 255;\n            this.defeatBossLayout.node.opacity = 0;\n        };\n\n        let showObtainMethod = (): void => {\n            this.equipButton.node.getChildByName(NODE_NAME_UNLOCK_LABEL).opacity = 255;\n            this.equipButton.node.getChildByName(NODE_NAME_MORE_LABEL).opacity = 255;\n            this.equipButton.node.getChildByName(NODE_NAME_LINE).opacity = 255;\n            this.equipButton.node.getChildByName(NODE_NAME_EQUIP_LABEL).opacity = 0;\n        };\n\n        let hasGained = index == ConfigUtil.shared.getIndexFromKnifeId(Constants.DEFAULT_USER_KNIFE_ID)\n            || StorageUtils.shared.getString(Constants.KEY_USER_GAINED_KNIFES, Constants.DEFAULT_USER_KNIFE_ID).split(\",\").indexOf(ConfigUtil.shared.getKnifeId(index)) != -1;\n        let obtainMethod = ConfigUtil.shared.getKnifeObtainMethod(ConfigUtil.shared.getKnifeId(index));\n        let userKnifeIndex = ConfigUtil.shared.getIndexFromKnifeId(StorageUtils.shared.getString(Constants.KEY_USER_KNIFE, Constants.DEFAULT_USER_KNIFE_ID));\n\n        if (hasGained) {\n            showButton();\n            this.equipButton.node.getChildByName(NODE_NAME_EQUIP_LABEL).opacity = 255;\n            this.equipButton.node.getChildByName(NODE_NAME_EQUIP_LABEL).getComponent(cc.Label).string = userKnifeIndex == index ? \"CURRENT\" : \"EQUIP\";\n            this.equipButton.node.getChildByName(NODE_NAME_UNLOCK_LABEL).opacity = 0;\n            this.equipButton.node.getChildByName(NODE_NAME_MORE_LABEL).opacity = 0;\n            this.equipButton.node.getChildByName(NODE_NAME_LINE).opacity = 0;\n            this.equipButton.node.getChildByName(NODE_NAME_COINS).opacity = 0;\n            this.equipButton.node.getChildByName(NODE_NAME_EQUIP_VIDEO_ICON).opacity = 0;\n            this.equipButton.node.getChildByName(NODE_NAME_AD).opacity = 0;\n            return;\n        }\n\n        switch (obtainMethod) {\n            case KnifeObtainMethod.BUY: {\n                showButton();\n                showObtainMethod();\n                this.equipButton.node.getChildByName(NODE_NAME_MORE_LABEL).color = new cc.Color(0xff, 0xee, 0x64, 0xff);\n                this.equipButton.node.getChildByName(NODE_NAME_MORE_LABEL).getComponent(cc.Label).string = String(ConfigUtil.shared.getKnifePrice(ConfigUtil.shared.getKnifeId(index)));\n                this.equipButton.node.getChildByName(NODE_NAME_UNLOCK_LABEL).getComponent(cc.Label).string = \"UNLOCK\";\n                this.equipButton.node.getChildByName(NODE_NAME_EQUIP_VIDEO_ICON).opacity = 0;\n                this.equipButton.node.getChildByName(NODE_NAME_AD).opacity = 0;\n                this.equipButton.node.getChildByName(NODE_NAME_COINS).opacity = 255;\n                this.equipButton.node.getChildByName(NODE_NAME_LINE).opacity = 100;\n                break;\n            }\n\n            case KnifeObtainMethod.REWARD_ADS: {\n                showButton();\n                showObtainMethod();\n                this.equipButton.node.getChildByName(NODE_NAME_MORE_LABEL).color = new cc.Color(0x1e, 0x5d, 0x11, 0xff);\n                let adCount = StorageUtils.shared.getInt(Constants.WATCH_AD_FOR_KNIFE + index, 0);\n                this.equipButton.node.getChildByName(NODE_NAME_MORE_LABEL).getComponent(cc.Label).string = adCount + \"/\" + ConfigUtil.shared.getKnifePrice(ConfigUtil.shared.getKnifeId(index));\n                this.equipButton.node.getChildByName(NODE_NAME_UNLOCK_LABEL).getComponent(cc.Label).string = \"WATCH\\nVIDEO\";\n                this.equipButton.node.getChildByName(NODE_NAME_EQUIP_VIDEO_ICON).opacity = 255;\n                this.equipButton.node.getChildByName(NODE_NAME_AD).opacity = 255;\n                this.equipButton.node.getChildByName(NODE_NAME_COINS).opacity = 0;\n                this.equipButton.node.getChildByName(NODE_NAME_LINE).opacity = 100;\n                break;\n            }\n\n            case KnifeObtainMethod.DEFEAT_BOSS: {\n                this.equipButton.node.opacity = 0;\n                this.defeatBossLayout.node.opacity = 255;\n                this.defeatBossLayout.node.getChildByName(\"boss_label\").getComponent(cc.Label).string = \"BOSS \" + ConfigUtil.shared.getBossNameForKnife(ConfigUtil.shared.getKnifeId(index));\n                break;\n            }\n        }\n    }\n\n    public static watchAdForCurrency(): void {\n        if (KnifeWarehouseComponent.instance == null) {\n            return;\n        }\n\n        let currency = StorageUtils.shared.getInt(Constants.KEY_CURRENCY, 0);\n        currency = currency + Constants.AD_PRICE;\n        KnifeWarehouseComponent.instance.currencyLabel.getComponent(cc.Label).string = String(currency);\n        StorageUtils.shared.putInt(Constants.KEY_CURRENCY, currency);\n    }\n\n    public static watchAdForKnife(watchAdRuselt: string): void {\n        if (KnifeWarehouseComponent.instance == null) {\n            return;\n        }\n\n        let adCount = StorageUtils.shared.getInt(watchAdRuselt, 0);\n        adCount++;\n        StorageUtils.shared.putInt(watchAdRuselt, adCount);\n\n        let index = ConfigUtil.shared.getIndexFromAdResult(watchAdRuselt);\n        let knifeId = ConfigUtil.shared.getKnifeId(index);\n        let knifeUnlockAdCount = ConfigUtil.shared.getKnifePrice(knifeId);\n\n        if (adCount >= knifeUnlockAdCount) {\n            let gainedKnifes: Array<string> = StorageUtils.shared.getString(Constants.KEY_USER_GAINED_KNIFES, Constants.DEFAULT_USER_KNIFE_ID).split(\",\");\n            gainedKnifes.push(knifeId)\n\n            StorageUtils.shared.putString(Constants.KEY_USER_KNIFE, knifeId);\n            StorageUtils.shared.putString(Constants.KEY_USER_GAINED_KNIFES, String(gainedKnifes));\n\n            JSInterfaceUtils.logAnalyticsEvent(\"ThrowingMaster_Knives_Unlock\", \"method\", \"videos\", \"which_knives\", knifeId);\n        }\n\n        KnifeWarehouseComponent.instance.knifeWarehousePageViewComponent.scrollToKnife(index);\n        KnifeWarehouseComponent.instance.updateEquipButtonStatus(index);\n    }\n\n    private updateLottryButtonState(): void {\n        if (ConfigUtil.shared.hasLotteryKnife()) {\n            this.watchAdForCurrencyButton.node.on(cc.Node.EventType.TOUCH_END, () => {\n                if (StorageUtils.shared.getBoolean(Constants.KEY_SOUND_SWITCH, true)) {\n                    cc.audioEngine.playEffect(this.watchAdForCurrencyButton.getComponent(cc.AudioSource).clip, false);\n                }\n\n                JSInterfaceUtils.watchRewardAd(Constants.POSTION_STORE_GET_COINS, Constants.WATCH_AD_FOR_CURRENCY);\n\n                JSInterfaceUtils.logAnalyticsEvent(\"ThrowingMaster_Store_Get_Coins_Clicked\");\n            }, this);\n\n            this.lotteryButton.node.on(cc.Node.EventType.TOUCH_END, this.showLottery);\n            this.watchAdForCurrencyNoLotteryButton.node.opacity = 0;\n\n            return;\n        }\n\n        this.watchAdForCurrencyButton.node.removeFromParent();\n        this.lotteryButton.node.removeFromParent();\n\n        this.watchAdForCurrencyNoLotteryButton.node.opacity = 255;\n        this.watchAdForCurrencyNoLotteryButton.node.on(cc.Node.EventType.TOUCH_END, () => {\n            if (StorageUtils.shared.getBoolean(Constants.KEY_SOUND_SWITCH, true)) {\n                cc.audioEngine.playEffect(this.watchAdForCurrencyButton.getComponent(cc.AudioSource).clip, false);\n            }\n\n            JSInterfaceUtils.watchRewardAd(Constants.POSTION_STORE_GET_COINS, Constants.WATCH_AD_FOR_CURRENCY);\n\n            JSInterfaceUtils.logAnalyticsEvent(\"ThrowingMaster_Store_Get_Coins_Clicked\");\n        }, this);\n    }\n}\n"]}